trigger ApartmentTrigger on Reservation__c (before insert, after insert, before update, after update) {
List<Apartment__c> appartIds = [Select id, DataA__c From Apartment__c
                                Where id in (SELECT Apartment__c FROM Reservation__c 
                                      		WHERE Id IN :Trigger.New) ];
       
    for(Apartment__c a : appartIds) { 
        a.DataA__c = system.now();
    }
    update appartIds;
}